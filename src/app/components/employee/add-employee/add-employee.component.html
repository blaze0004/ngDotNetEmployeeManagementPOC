<div class="add-emp-form">
  <ng-container *ngIf="addUpdateEmployeeForm.controls.id.value; else elseTitle">
    <h1 >Update Employee Form</h1>
  </ng-container>
  <ng-template #elseTitle>
    
  
  <h1>Add Employee Form</h1>
  </ng-template>

  <form
    [formGroup]="addUpdateEmployeeForm"
    (ngSubmit)="addOrUpdateEmployee()"
  >
    <div class="form-left">
   
      <input type="text" hidden name="id" formControlName="id">
      <mat-form-field>
        <input
          matInput
          placeholder="Employee Name"
          name="name"
          formControlName="name"
        />
      </mat-form-field>
      <br />
      <mat-form-field>
        <input
          matInput
          placeholder="Email"
          name="email"
          formControlName="email"
          />
      </mat-form-field>
  
      <mat-form-field>
        <span matPrefix>+91 &nbsp;</span>
        <input
          type="tel"
          matInput
          placeholder="Phone Number"
          name="phone"
          formControlName='phone'
        />
        <mat-icon matSuffix>mode_edit</mat-icon>
      </mat-form-field>
  
      <br />
  
      <mat-form-field>
        <mat-label>Select Position</mat-label>
        <mat-select
          [value]="selected"
          name="profile"
          formControlName="profile"
          
        >
          <mat-option *ngFor="let profile of ['Intern', 'Trainee', 'Developer']; index as i" [value]="i">{{ profile }}</mat-option>
          
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <input
          matInput
          placeholder="Salary"
          name="salary"
          formControlName="salary"
        />
      </mat-form-field>
  
      <br />
  
      <button type="button" mat-raised-button color="accent" >
        <label for="photo" style="padding: 10px;">Choose Photo</label>
      </button>
      <input
        type="file"
        id="photo"
        formControlName="photo"
        name="photo"
        [hidden]="true"
        (change)="saveAndConvertImage($event)"
      />
  
      <span *ngIf="fileName" style="margin-left: 20px;">{{fileName}}</span>
      <br>
      
      <br />
      <br />
  
      <button mat-raised-button type="submit" color="primary">
        <ng-container *ngIf="addUpdateEmployeeForm.controls.id.value; else elseSubmitBtn">
          Update Employee Details
        </ng-container>
        <ng-template #elseSubmitBtn>
          Add Employee Details
        </ng-template>
        
      </button>
    </div>

    <div class="form-left">
      <ng-container *ngIf="addUpdateEmployeeForm.controls.id.value && addUpdateEmployeeForm.controls.photo.value; else elseTemplate">
        <img src="{{addUpdateEmployeeForm.controls.photo.value}}"  alt="">
      </ng-container>
      <ng-template #elseTemplate>
        <img src="{{previewURL}}" alt="">
      </ng-template>
    </div>
    

   

  </form>
</div>
